#### CGLIB 动态代理和 JDK 动态代理的区别？

答：

1. JDK 动态代理只能对实现了接口的类生成代理，而不能针对没有接口的目标类生成代理
2. CGLIB 是针对类实现的代理，主要是对目标类生成一个子类，并覆盖其方法实现字节码增强，但是因为采用的是继承，所以该类或想要实现增强的方法如果声明了 final 关键字则无法成功。
3. CGLIB 底层采用 ASM 字节码生成框架，使用字节码生成代理类，在 jdk6 之前效率要高于 JDK 动态代理，不过随着 JDK 版本不断升级与改善，目前 JDK 代理的效率得到了大幅度提升，从 JDK8 之后，其效率要高于 CGLIB
4. Spring AOP 提供了 JDK 动态代理以及 CGLIB 动态代理的支持，当 Bean 实现了接口时，Spring 会使用 JDK 动态代理，当 Bean 没有实现接口时，Spring 使用的是 CGLIB 的实现 

